---
title: ローカルイメージのアップロード ⬆️
description: このドキュメントでは、プラットフォームから Harbor へのアクセス資格情報を取得し、ローカルの Docker イメージを Harbor レポジトリにアップロードする方法について説明します。
---

## 🔐 1. Harbor へのアクセス資格情報を取得する

### 🚀 1.1 プラットフォームへのログイン

まず、プラットフォーム（例：Kubernetes クラスタ管理プラットフォーム、CI/CD プラットフォームなど）にログインし、Harbor との統合部分を見つけてください。

![harbor](./img/harbor-user.png)

### 🔑 1.2 アクセス資格情報を取得する

プラットフォームの Harbor 統合ページで以下の情報を確認できます：

- **🌐 Harbor URL**: Harbor レポジトリのアドレス。例：`https://harbor.example.com`。
- **👤 ユーザー名**: あなたの Harbor ユーザー名。
- **🔒 パスワード**: あなたの Harbor パスワード。

### 🔐 1.3 Harbor へのログイン

取得した資格情報を使用して Harbor にログインします：

```bash
docker login crater-harbor.act.buaa.edu.cn -u <ユーザー名> -p <パスワード>
```

ログインに成功すると、`Login Succeeded`というメッセージが表示されます。✅

## 📦 2. ローカルイメージを Harbor レポジトリにアップロードする

### 🏷️ 2.1 ローカルイメージをタグ付けする

アップロードする前に、ローカルイメージを Harbor レポジトリの命名規則に従ってタグ付けする必要があります。例：

```bash
docker tag local-image:tag harbor.example.com/project-name/repository-name:tag
```

- `local-image:tag`: あなたのローカルイメージの名前とタグ。
- `harbor.example.com/project-name/repository-name:tag`: Harbor レポジトリの完全なパス、プロジェクト名、リポジトリ名、タグを含む。

各ユーザーの Project Name は `user-{ACT ユーザー名}` です。💡

### ⬆️ 2.2 イメージを Harbor にプッシュする

タグ付けしたイメージを `docker push` コマンドを使って Harbor レポジトリにプッシュします：

```bash
docker push harbor.example.com/project-name/repository-name:tag
```

プッシュに成功すると、Harbor レポジトリにアップロードされたイメージが表示されます。✨

## ✅ 3. イメージのアップロードを確認する

### 🌐 3.1 Harbor Web UI へのログイン

ブラウザを開き、Harbor の Web UI（例：`https://harbor.example.com`）にアクセスし、資格情報を使用してログインしてください。

### 👀 3.2 イメージの確認

対応するプロジェクトとリポジトリに移動し、アップロードしたイメージがレポジトリに正しく表示されているか確認してください。

## ⚠️ 4. よくある質問

### ❌ 4.1 ログインに失敗する

- ユーザー名とパスワードが正しいか確認してください。
- Harbor URL が正しいか、ネットワークでアクセス可能か確認してください。

### ❌ 4.2 プッシュに失敗する

- イメージのタグ付けしたパスが正しいか確認してください。
- 指定されたプロジェクトとリポジトリにイメージをプッシュする権限があるか確認してください。

## 📚 5. 参考資料

- [Harbor 公式ドキュメント](https://goharbor.io/docs/)
- [Docker 公式ドキュメント](https://docs.docker.com/)