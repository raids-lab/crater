---
title: Ingress-NGINX ë°°í¬ ê°€ì´ë“œ
description: CraterëŠ” ì™¸ë¶€ ì„œë¹„ìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•´ Ingress-NGINX ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì‚¬ìš©í•˜ë©°, HTTP ë° HTTPS íŠ¸ë˜í”½ì˜ ì£¼ìš” ì¸ê·¸ë ˆìŠ¤ í¬ì¸íŠ¸ë¡œ ì‘ë™í•©ë‹ˆë‹¤.
---

## ë°°í¬

### ì˜µì…˜ 1: LoadBalancer ì—†ì´ (ì˜ˆ: ë² ì–´ë©”íƒˆ ë˜ëŠ” ê°œë°œ í´ëŸ¬ìŠ¤í„°)

LoadBalancer ì„œë¹„ìŠ¤ ìœ í˜•ì´ ì‚¬ìš© ê°€ëŠ¥í•œ í´ëŸ¬ìŠ¤í„°ê°€ ì•„ë‹Œ ê²½ìš°, `hostNetwork` ëª¨ë“œë¥¼ í™œì„±í™”í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

```bash
helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx
helm repo update

helm upgrade --install ingress-nginx ingress-nginx \
  --repo https://kubernetes.github.io/ingress-nginx \
  --namespace ingress-nginx \
  --create-namespace \
  --version 4.11.3 \
  --set controller.image.registry="crater-harbor.act.buaa.edu.cn/registry.k8s.io" \
  --set controller.admissionWebhooks.patch.image.registry="crater-harbor.act.buaa.edu.cn/registry.k8s.io" \
  --set controller.hostNetwork=true \
  --set controller.dnsPolicy=ClusterFirstWithHostNet \
  --set controller.healthCheckHost="10.109.80.4" \
  --set 'controller.nodeSelector.kubernetes\.io/hostname=cnode1' \
  --set "controller.tolerations="
```

ğŸ”§ ë…¸ë“œ ì„ íƒì, í†¨ëŸ¬ë ˆì´ì…˜ ë° healthCheckHostë¥¼ í´ëŸ¬ìŠ¤í„° ë…¸ë“œ êµ¬ì„±ì— ë§ê²Œ ì¡°ì •í•˜ì„¸ìš”.

### ì˜µì…˜ 2: MetalLB ì‚¬ìš© (Crater ê¶Œì¥)
ìƒì‚° í´ëŸ¬ìŠ¤í„°ì—ì„œ CraterëŠ” Layer 2 ëª¨ë“œë¡œ MetalLBë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚´ë¶€ IPë¥¼ í• ë‹¹í•©ë‹ˆë‹¤. ì¸ê·¸ë ˆìŠ¤ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” MetalLBë¡œë¶€í„° ë‚´ë¶€ IPë¥¼ í• ë‹¹ë°›ëŠ” LoadBalancer ì„œë¹„ìŠ¤ë¡œ ë°°í¬ë©ë‹ˆë‹¤.

```bash
helm upgrade --install ingress-nginx ingress-nginx/ingress-nginx \
  --namespace ingress-nginx \
  --create-namespace \
  --version 4.11.3 \
  --set controller.image.registry="crater-harbor.act.buaa.edu.cn/registry.k8s.io" \
  --set controller.admissionWebhooks.patch.image.registry="crater-harbor.act.buaa.edu.cn/registry.k8s.io" \
  --set controller.allowSnippetAnnotations=true
```

ğŸ“Œ ì´ ì„¤ì •ì€ MetalLBì˜ IP í’€ì—ì„œ ë‚´ë¶€ IPë¥¼ ì‚¬ìš©í•˜ë©°, ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë„¤íŠ¸ì›Œí¬(ì˜ˆ: ëŒ€í•™ ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬) ë‚´ì—ì„œ ì„œë¹„ìŠ¤ ë°œê²¬ì„ ì§€ì›í•©ë‹ˆë‹¤.

ì™¸ë¶€ IP í• ë‹¹ì„ í™•ì¸í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
```bash
kubectl get svc -n ingress-nginx
```

ì˜ˆì‹œ:

```bash
NAME                       TYPE           EXTERNAL-IP       PORT(S)
ingress-nginx-controller   LoadBalancer   192.168.100.243   80:31234/TCP,443:31235/TCP
```

# ë²„ì „ í˜¸í™˜ì„± ì°¸ê³ 
í˜„ì¬ ìš°ë¦¬ëŠ” **Ingress-NGINX ë²„ì „ì„ `4.11.3`ë¡œ ê³ ì •**í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŠ” Craterì˜ ì¸ê·¸ë ˆìŠ¤ ì• ë…¸í…Œì´ì…˜ì´ `4.12.0` ì´ìƒì˜ ë²„ì „ê³¼ í˜¸í™˜ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë” ë†’ì€ ë²„ì „ì„ ì‚¬ìš©í•˜ë ¤ëŠ” ì‹œë„ëŠ” ë¼ìš°íŒ… ì¬ì‘ì„± ì˜¤ë¥˜ë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# ì œê±°
ì¸ê·¸ë ˆìŠ¤ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì œê±°í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì„¸ìš”:

```bash
helm uninstall ingress-nginx -n ingress-nginx
```
# ì°¸ê³  ìë£Œ

* [Ingress-NGINX Helm ì°¨íŠ¸](https://github.com/kubernetes/ingress-nginx)

* [Crater í˜¸í™˜ì„± ì°¸ê³ ](../README.md)