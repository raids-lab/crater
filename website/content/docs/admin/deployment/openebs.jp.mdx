---
title: OpenEBS 配置ガイド
description: OpenEBS は Crater で Local PV HostPath ボリュームを通じてローカル永続ストレージを管理するために使用され、効率的なノードローカルストレージ管理を可能にします。
---

## 概要

Crater は **Kubernetes ノード全体にわたるローカル永続ストレージの管理**に **OpenEBS** を依存しています。我々の主な目標は次の通りです:

- **CRD 基盤のローカルストレージリソース管理**を実現し、Crater がローカルディスクを一等Citizenとして、宣言型リソースとして扱えるようにします。
- **OpenEBS Local PV HostPath** を使用して、ノードローカルパスからボリュームを直接プロビジョニングし、予測可能で効率的なデータローカリティを実現します。

この構成は、以下の条件を満たすワークロードに最適です:
- ローカルディスクへのレイテンシーが重要な場合。
- ストレージは短期間で存在するが、適切なライフサイクルとクリーンアップが必要な場合。
- hostPath マウントよりも Kubernetes ネイティブなボリュームオブジェクトが好まれる場合。

## なぜ OpenEBS Local PV なのか?

OpenEBS は複数のストレージエンジンをサポートしています。我々は以下の理由から特に **Local PV** エンジンを選択しました:

- 外部ストレージインフラが必要ありません。
- ノードアフィニティとスケジューリング制約とよく連携します。
- ストレージ使用状況とライフサイクルを Kubernetes CRD で公開します。
- PVC が削除されたときにボリュームの自動クリーンアップをサポートします。

> ノート: 当方の構成では主に `openebs-hostpath` ストレージクラスとノードローカルパス（例: `/mnt/local-disks/`）を使用し、`hostPath` を通じたアクセスを設定しています。

## 事前条件

- `kubectl` および `helm` がインストールされていること
- ローカルディスクマウントパス（例: `/mnt/local-disks/`）でのノードディレクトリが事前に作成されていること

## インストール

Crater のストレージニーズに合わせてカスタマイズされた Helm 設定を OpenEBS に対して提供しています。

📦 Helm バリュー: [`deployments/openebs/values.yaml`](../deployments/openebs/values.yaml)  
📖 詳細ガイド: [`deployments/openebs/README.md`](../deployments/openebs/README.md)