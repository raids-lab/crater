---
title: プラットフォームアクセス
description: 既存のアカウントで Crater にログインするか、Crater アカウントを作成します
---

Crater プラットフォームを使用するには、有効なプラットフォームアカウントが必要です。プラットフォームの設定に応じて、ラボの LDAP アカウントを使用してログインするか、Crater プラットフォームアカウントを介してアクセスするかを選択できます。

このドキュメントに記載されている一部のログイン方法の入り口が表示されない場合、それは正常です。どのログイン方法が使用可能かは、プラットフォーム管理者の設定によって異なります。

## LDAP ログインと登録

### 概要
Crater は LDAP アカウントの自動登録と情報の同期をサポートしています。アカウントを手動で作成する必要はなく、LDAP アカウントのユーザー名とパスワードを入力するだけでログインできます。

ACT ラボのメンバーで、ラボの統一認証アカウントをお持ちの場合は、この方法を使用してください。

### 認証フロー

<Mermaid
  chart="
flowchart TD;
    A[LDAP ユーザー名/パスワード入力] --> B{LDAP サーバー認証};
    B -- 認証失败 --> C[認証情報エラーを返す];
    B -- 認証成功 --> D{Crater DB に<br/>ユーザーが存在するか?};
    D -- いいえ --> E1[ユーザー UID/GID を取得<br/>LDAP 属性または外部サービスから];
    E1 --> E2[Crater DB 内にアカウントを<br/>自動作成し属性を同期];
    D -- はい --> F[Crater DB 内の属性を更新<br/>メール、ニックネームなど];
    E2 --> G[デフォルトキュー権限を割り当て];
    F --> H[JWT トークンを生成];
    G --> H;
    H --> I[ログイン成功];
"
/>

### エラークイックチェック

<Callout>
現在、プラットフォームのエラーメッセージ処理体系を再構築中です。再構築後に具体的なエラー情報のクイックチェックドキュメントを補充します。
</Callout>

## プラットフォームログイン

### 概要
Crater でアカウントを手動で登録した場合、または管理者がアカウントを割り当て、このログイン方法を使用するように指示した場合は、この方法でログインしてください。

通常、このログイン方法を使用して LDAP アカウントや他のアカウントに直接ログインすることはできません。

### 認証フロー

<Mermaid
  chart="
flowchart TD;
    A[Crater アカウントのユーザー名/パスワード入力] --> B{Crater DB 照合<br/>Bcrypt 検証};
    B -- 検証失敗 --> C[ユーザー名またはパスワードエラーを返す];
    B -- 検証成功 --> D{ユーザー状態チェック};
    D -- 非アクティブ/無効 --> E[ユーザー未有効化を返す];
    D -- アクティブ --> F[関連するプロジェクト/キューを取得];
    F --> G[JWT トークンを生成];
    G --> H[ログイン成功];
"
/>

### エラークイックチェック

<Callout>
現在、プラットフォームのエラーメッセージ処理体系を再構築中です。再構築後に具体的なエラー情報のクイックチェックドキュメントを補充します。
</Callout>

## プラットフォーム登録

### 概要
管理者が「自主登録を許可」機能を有効にしている場合、まだアカウントを持っていない新規ユーザーは、登録ページから Crater プラットフォームアカウントを作成できます。

### 認証フロー

<Mermaid
  chart="
flowchart TD;
    A[ユーザー名とパスワードを入力] --> B{プラットフォーム登録スイッチ確認};
    B -- オフ --> C[自主登録禁止を通知];
    B -- オン --> D{ユーザー名の一意性確認};
    D -- 既に存在 --> E[ユーザー名重複を通知];
    D -- 存在しない --> F1[Crater デフォルト UID/GID 1001を割り当て];
    F1 --> F2[Crater DB 内にユーザーレコード作成];
    F2 --> G[ユーザー領域を初期化];
    G --> H[デフォルトの公共キューを関連付け];
    H --> I[登録成功および自動ログイン];
"
/>

### エラークイックチェック

<Callout>
現在、プラットフォームのエラーメッセージ処理体系を再構築中です。再構築後に具体的なエラー情報のクイックチェックドキュメントを補充します。
</Callout>

## よくある質問

### 1. ACT ラボユーザーがラボ外から GPU クラスターにアクセスするにはどうすればいいですか？

クライアントのダウンロード：https://vpn.buaa.edu.cn/portal，
ログイン画面の下にある「クライアントをダウンロード」をクリックし、ポップアップで対応するオペレーティングシステムを選択してダウンロードしてください。

### 2. ACT VPN に接続できない場合の対処法：

ローカルの DNS 解析が正しいか確認してください;

```
dig vpn.act.buaa.edu.cn
```

結果がない場合は、「219.224.171.1」を使用して「vpn.act.buaa.edu.cn」にアクセスしてください。
